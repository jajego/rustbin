import"../chunks/DsnmJJEf.js";import{i as W}from"../chunks/BtUMfmAO.js";import{o as $,s as g}from"../chunks/DNjhJAR4.js";import{p as y,f as i,a as I,t as v,b as r,c as L,s as M,g as l,m as N,d as u,r as c,e as j}from"../chunks/Cix4TZdQ.js";import{i as q}from"../chunks/aYuDAdqV.js";import{p as z,e as A}from"../chunks/B2rMTG9H.js";import{g as B}from"../chunks/D4ryp0Ci.js";var C=i("<p>No messages yet...</p>"),D=i("<li> </li>"),E=i("<ul></ul>"),F=i("<h1> </h1> <!>",1);function R(h,_){y(_,!1);let e=null,a=N([]);const m=B(z).params.id;$(()=>{const t=`${location.protocol==="https:"?"wss":"ws"}://${location.host}/bin/${m}/ws`;return e=new WebSocket(t),e.onmessage=s=>{M(a,[...l(a),s.data])},e.onerror=s=>{console.error("WebSocket error:",s)},e.onclose=()=>{console.log("WebSocket closed")},()=>{e?.close()}}),W();var f=F(),n=I(f),b=u(n);c(n);var d=j(n,2);{var k=o=>{var t=C();r(o,t)},w=o=>{var t=E();A(t,5,()=>l(a),s=>s,(s,x)=>{var p=D(),S=u(p,!0);c(p),v(()=>g(S,l(x))),r(s,p)}),c(t),r(o,t)};q(d,o=>{l(a).length===0?o(k):o(w,!1)})}v(()=>g(b,`Listening to bin: ${m??""}`)),r(h,f),L()}export{R as component};
